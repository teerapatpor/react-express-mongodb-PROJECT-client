[{"D:\\ownerProject\\web\\src\\index.js":"1","D:\\ownerProject\\web\\src\\App.js":"2","D:\\ownerProject\\web\\src\\components\\Navbar.js":"3","D:\\ownerProject\\web\\src\\components\\Input.js":"4","D:\\ownerProject\\web\\src\\components\\Post.js":"5","D:\\ownerProject\\web\\src\\components\\Sidebar.js":"6","D:\\ownerProject\\web\\src\\form.js":"7","D:\\ownerProject\\web\\src\\home.js":"8","D:\\ownerProject\\web\\src\\components\\SidebarData.js":"9","D:\\ownerProject\\web\\src\\components\\User.js":"10","D:\\ownerProject\\web\\src\\login.js":"11","D:\\ownerProject\\web\\src\\components\\Login.js":"12","D:\\ownerProject\\web\\src\\states\\formState.js":"13","D:\\ownerProject\\web\\src\\states\\userState.js":"14","D:\\ownerProject\\web\\src\\register.js":"15","D:\\ownerProject\\web\\src\\chatLobby.js":"16","D:\\ownerProject\\web\\src\\Chatroom.js":"17","D:\\ownerProject\\web\\src\\components\\Chat.js":"18","D:\\ownerProject\\web\\src\\ChatLobby.js":"19","D:\\ownerProject\\web\\src\\api\\api.js":"20","D:\\ownerProject\\web\\src\\Editprofile.js":"21"},{"size":2678,"mtime":1615289195508,"results":"22","hashOfConfig":"23"},{"size":1349,"mtime":1617135098972,"results":"24","hashOfConfig":"23"},{"size":3007,"mtime":1616958891981,"results":"25","hashOfConfig":"23"},{"size":2596,"mtime":1615289619411,"results":"26","hashOfConfig":"23"},{"size":6760,"mtime":1617186486818,"results":"27","hashOfConfig":"23"},{"size":1816,"mtime":1616958501206,"results":"28","hashOfConfig":"23"},{"size":1069,"mtime":1611742460282,"results":"29","hashOfConfig":"23"},{"size":5101,"mtime":1617188162760,"results":"30","hashOfConfig":"23"},{"size":274,"mtime":1612087241120,"results":"31","hashOfConfig":"23"},{"size":140,"mtime":1610876877435,"results":"32","hashOfConfig":"23"},{"size":737,"mtime":1617189554619,"results":"33","hashOfConfig":"23"},{"size":4738,"mtime":1617190288233,"results":"34","hashOfConfig":"23"},{"size":332,"mtime":1612578676133,"results":"35","hashOfConfig":"23"},{"size":1835,"mtime":1615623847161,"results":"36","hashOfConfig":"23"},{"size":463,"mtime":1614439571931,"results":"37","hashOfConfig":"23"},{"size":1428,"mtime":1612088668961,"results":"38","hashOfConfig":"23"},{"size":5544,"mtime":1614694939788,"results":"39","hashOfConfig":"23"},{"size":1001,"mtime":1614439505112,"results":"40","hashOfConfig":"23"},{"size":5373,"mtime":1617189222361,"results":"41","hashOfConfig":"23"},{"size":139,"mtime":1615634502998,"results":"42","hashOfConfig":"23"},{"size":9279,"mtime":1615621183818,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"wng77z",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"46"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"46"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"46"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"46"},"D:\\ownerProject\\web\\src\\index.js",[],["95","96"],"D:\\ownerProject\\web\\src\\App.js",[],"D:\\ownerProject\\web\\src\\components\\Navbar.js",["97"],"import React, { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Button, Dropdown, DropdownButton } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport {\r\n  userMapStatetoProps,\r\n  userMapDispatchtoProps,\r\n} from \"../states/userState\";\r\nimport { connect } from \"react-redux\";\r\nimport { server_api } from \"../api/api\";\r\nfunction Navbar(props) {\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    // props.updateChatList();\r\n    if (localStorage.getItem(\"token\") !== null) {\r\n      const token = localStorage.getItem(\"token\");\r\n      axios({\r\n        url: `${server_api}/api/user/token`,\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: token,\r\n        },\r\n      }).then(async (res) => {\r\n        if (res.data.success === true) {\r\n          await props.userLogin(\r\n            true,\r\n            res.data.data._id,\r\n            res.data.data.username,\r\n            res.data.data.firstname,\r\n            res.data.data.lastname,\r\n            res.data.data.avatar,\r\n            res.data.data.role,\r\n            res.data.data.chatRecieverID,\r\n            token\r\n          );\r\n          await props.updateChatList();\r\n        } else {\r\n          history.push(\"/ลงชื่อเข้าใช้\");\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n  return (\r\n    <header className=\"Navbar\">\r\n      <label\r\n        style={{ fontSize: \"25px\", fontWeight: \"bold\", cursor: \"pointer\" }}\r\n        onClick={() => {\r\n          history.push(\"/\");\r\n          window.location.reload(true);\r\n        }}\r\n      >\r\n        ownerProject\r\n      </label>\r\n\r\n      {!props.user.login ? (\r\n        <Link to={\"/ลงชื่อเข้าใช้\"}>\r\n          <Button variant=\"outline-info\" className=\"login\">\r\n            ลงชื่อเข้าใช้\r\n          </Button>\r\n        </Link>\r\n      ) : (\r\n        <>\r\n          <Button\r\n            variant=\"outline-info\"\r\n            style={{ float: \"right\" }}\r\n            onClick={() => {\r\n              localStorage.removeItem(\"token\");\r\n              localStorage.removeItem(\"userID\");\r\n              props.userLogout(props.user.socketID);\r\n              alert(\"ออกจากระบบแล้ว\");\r\n              history.push(\"/\");\r\n            }}\r\n          >\r\n            ออกจากระบบ\r\n          </Button>\r\n          <DropdownButton\r\n            id=\"dropdown-basic-button\"\r\n            variant=\"outline-primary\"\r\n            title=\"Setting\"\r\n            style={{ float: \"right\", marginRight: \"20px\" }}\r\n          >\r\n            <Dropdown.Item\r\n              onClick={() => {\r\n                history.push(\"แก้ไขข้อมูลส่วนตัว\");\r\n              }}\r\n            >\r\n              edit Profile\r\n            </Dropdown.Item>\r\n          </DropdownButton>\r\n        </>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default connect(userMapStatetoProps, userMapDispatchtoProps)(Navbar);\r\n","D:\\ownerProject\\web\\src\\components\\Input.js",["98"],"import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { server_api } from \"../api/api\";\r\n// axios.create({\r\n//   baseURL: \"http://localhost:8888/api/image\",\r\n//   headers: {\r\n//     \"Content-type\": \"application/json\",\r\n//   },\r\n// });\r\n\r\nfunction Input({ addForm }) {\r\n  var formData = new FormData();\r\n  const [nameForm, setNameForm] = useState(\"\");\r\n  const [detail, setDetail] = useState(\"\");\r\n  const [imgURL, setImgURL] = useState(\"\");\r\n  const [file, setFile] = useState();\r\n\r\n  function onClick() {\r\n    if (nameForm !== \"\" && imgURL !== \"\") {\r\n      formData.append(\"productImage\", file);\r\n      formData.append(\"name\", nameForm);\r\n      formData.append(\"detail\", detail);\r\n\r\n      axios({\r\n        url: `${server_api}/api/post/create`,\r\n        method: \"post\",\r\n        data: formData,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      }).then((result) => {\r\n        addForm(result.data.data);\r\n        alert(\"บันทึกสำเร็จ\");\r\n        window.location.reload(true);\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"head\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 0,\r\n          right: 0,\r\n          top: 50,\r\n          height: \"91.5%\",\r\n        }}\r\n      >\r\n        <div className=\"Input__header\">create form</div>\r\n        <div className=\"Input\">\r\n          <span>ชื่อ</span>\r\n          <input\r\n            className=\"Input__field\"\r\n            type=\"text\"\r\n            placeholder=\"ใส่ชื่อของ ฟอร์มนี้\"\r\n            onChange={(e) => {\r\n              setNameForm(e.target.value);\r\n            }}\r\n          />\r\n          <br></br>\r\n          <span>รายละเอียด</span>\r\n          <input\r\n            className=\"Input__field\"\r\n            type=\"text\"\r\n            placeholder=\"ใส่รายละเอียดเพิ่มเติม\"\r\n            onChange={(e) => {\r\n              setDetail(e.target.value);\r\n            }}\r\n          />\r\n          <br></br>\r\n          <span>ไฟล์รูป </span>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => {\r\n              //console.log(e.target.files[0]);\r\n              setFile(e.target.files[0]);\r\n              setImgURL(e.target.files[0].name);\r\n            }}\r\n          />\r\n          <br></br>\r\n          <Button onClick={onClick}>บันทึกข้อมูล</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","D:\\ownerProject\\web\\src\\components\\Post.js",["99","100","101","102","103","104","105","106","107"],"D:\\ownerProject\\web\\src\\components\\Sidebar.js",["108"],"import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport { SidebarData } from \"./SidebarData\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport {\r\n  userMapStatetoProps,\r\n  userMapDispatchtoProps,\r\n} from \"../states/userState\";\r\nimport { connect } from \"react-redux\";\r\nfunction Sidebar(props) {\r\n  useEffect(() => {\r\n    console.log(props.user.role);\r\n  }, []);\r\n  return (\r\n    <div className=\"Sidebar\">\r\n      {props.user.role !== \"admin\" ? (\r\n        <div>\r\n          {SidebarData.filter((item) => item.title !== \"เพิ่มฟอร์ม\").map(\r\n            (item, index) => {\r\n              return (\r\n                <Link to={item.path} key={index}>\r\n                  <Button\r\n                    variant=\"outline-info\"\r\n                    style={{\r\n                      borderRadius: \"0px\",\r\n                      width: \"100%\",\r\n                      borderColor: \"white\",\r\n                    }}\r\n                  >\r\n                    <span>{item.title}</span>\r\n                  </Button>\r\n                </Link>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {SidebarData.map((item, index) => {\r\n            return (\r\n              <Link to={item.path} key={index}>\r\n                <Button\r\n                  variant=\"outline-info\"\r\n                  style={{\r\n                    borderRadius: \"0px\",\r\n                    width: \"100%\",\r\n                    borderColor: \"white\",\r\n                  }}\r\n                >\r\n                  <span>{item.title}</span>\r\n                </Button>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(userMapStatetoProps, userMapDispatchtoProps)(Sidebar);\r\n","D:\\ownerProject\\web\\src\\form.js",["109"],"import \"./App.css\";\r\nimport Input from \"./components/Input\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nfunction Form(props) {\r\n  function addForm(newData) {\r\n    props.changeForm([newData, ...props.form]);\r\n  }\r\n  useEffect(() => {\r\n    console.log(props);\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {props.user.role !== \"admin\" ? (\r\n        <></>\r\n      ) : (\r\n        <div>\r\n          <Input addForm={addForm} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nconst mapStatetoprops = (state) => {\r\n  return {\r\n    form: state.form,\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    changeForm: (form) => {\r\n      dispatch({\r\n        type: \"changeForm\",\r\n        item: form,\r\n      });\r\n    },\r\n    userLogin: (login, _id, username, role) => {\r\n      dispatch({\r\n        type: \"login\",\r\n        payload: {\r\n          login,\r\n          _id,\r\n          username,\r\n          role,\r\n        },\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStatetoprops, mapDispatchtoProps)(Form);\r\n","D:\\ownerProject\\web\\src\\home.js",["110","111","112","113","114"],"D:\\ownerProject\\web\\src\\components\\SidebarData.js",[],"D:\\ownerProject\\web\\src\\components\\User.js",["115","116"],"import React from \"react\";\r\nimport \"../App.css\";\r\nimport { SidebarData } from \"./SidebarData\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction User(props) {\r\n  return <h1>{props.username}</h1>;\r\n}\r\n\r\nexport default User;\r\n",["117","118"],"D:\\ownerProject\\web\\src\\login.js",[],"D:\\ownerProject\\web\\src\\components\\Login.js",["119","120"],"D:\\ownerProject\\web\\src\\states\\formState.js",[],"D:\\ownerProject\\web\\src\\states\\userState.js",[],"D:\\ownerProject\\web\\src\\register.js",[],"D:\\ownerProject\\web\\src\\chatLobby.js",["121"],"D:\\ownerProject\\web\\src\\Chatroom.js",["122","123"],"import \"./App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport Chat from \"./components/Chat\";\r\nimport { Ring } from \"react-awesome-spinners\";\r\nimport {\r\n  userMapDispatchtoProps,\r\n  userMapStatetoProps,\r\n} from \"./states/userState\";\r\nimport { connect } from \"react-redux\";\r\nimport { socket } from \"./App\";\r\nimport { server_api } from \"./api/api\";\r\nfunction Chatroom(props) {\r\n  const [text, setText] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    props.updateChat([]);\r\n    // do it before can resolve\r\n    // socket.on(\"recieve_message\", (data) => {\r\n    //   console.log(props);\r\n    //   props.updateChat(data);\r\n    // });\r\n    socket.on(\"recieve_message\", (data) => {\r\n      props.updateChatmessage(data);\r\n      if (!props.user.chatRecieverID.includes(data.senderID)) {\r\n        var arr = props.user.chatRecieverID;\r\n        arr.push(data.senderID);\r\n        props.userFetchChat(arr);\r\n      }\r\n    });\r\n    if (props.location.state === undefined) {\r\n      history.push(\"/สนทนา\");\r\n    } else {\r\n      axios({\r\n        url: `${server_api}/api/chat/information`,\r\n        method: \"post\",\r\n        data: { recieverID: props.location.state.id },\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: props.user.token,\r\n        },\r\n      })\r\n        .then(async (result) => {\r\n          await props.updateChat(result.data.data.history);\r\n          localStorage.setItem(\"latest-chat\", props.location.state.user._id);\r\n          setLoading(false);\r\n        })\r\n        .catch((err) => {\r\n          history.push(\"/สนทนา\");\r\n        });\r\n    }\r\n  }, []);\r\n  function sendChat() {\r\n    props.updateChat([\r\n      ...props.chat,\r\n      { senderID: props.location.state.user._id, message: text },\r\n    ]);\r\n    setText(\"\");\r\n    if (!props.user.chatRecieverID.includes(props.location.state.id)) {\r\n      var arr = props.user.chatRecieverID;\r\n      arr.push(props.location.state.id);\r\n      props.userFetchChat(arr);\r\n      axios({\r\n        url: `${server_api}/api/chat/create`,\r\n        method: \"post\",\r\n        data: { recieverID: props.location.state.id },\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: props.user.token,\r\n        },\r\n      });\r\n    }\r\n    socket.emit(\"message\", {\r\n      message: text,\r\n      msgType: \"text\",\r\n      senderID: props.location.state.user._id,\r\n      recieverID: props.location.state.id,\r\n      socketReciever: props.location.state.socketID,\r\n    });\r\n  }\r\n  return (\r\n    <div\r\n      className=\"ChatRoom\"\r\n      style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 1,\r\n        top: 50,\r\n        height: \"665px\",\r\n      }}\r\n      onKeyDown={(e) => {\r\n        if (e.code === \"Enter\") {\r\n          sendChat();\r\n        }\r\n      }}\r\n    >\r\n      {console.log(props.location.state)}\r\n      {props.location.state !== undefined ? (\r\n        <div\r\n          style={{\r\n            background: \"white\",\r\n            height: \"500px\",\r\n            width: \"60%\",\r\n            margin: \"40px auto\",\r\n          }}\r\n        >\r\n          <label\r\n            style={{\r\n              background: \"black\",\r\n              color: \"white\",\r\n              width: \"100%\",\r\n              height: \"5%\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            {props.location.state.username}\r\n          </label>\r\n          <div\r\n            style={{\r\n              background: \"grey\",\r\n              width: \"100%\",\r\n              height: \"85%\",\r\n              border: \"4px solid black\",\r\n              flex: 1,\r\n              overflow: \"auto\",\r\n            }}\r\n          >\r\n            {loading ? (\r\n              <Ring style={{ size: 64, color: \"#00bfff\", sizeUnit: \"px\" }} />\r\n            ) : (\r\n              <Container>\r\n                {props.chat.map((msg, index) => {\r\n                  return (\r\n                    <Row key={index}>\r\n                      <Col>\r\n                        <Chat\r\n                          senderID={msg.senderID}\r\n                          message={msg.message}\r\n                          uid={props.location.state.user._id}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  );\r\n                })}\r\n              </Container>\r\n            )}\r\n          </div>\r\n          <input\r\n            type=\"text\"\r\n            style={{\r\n              width: \"90%\",\r\n              height: \"10%\",\r\n              border: \"4px solid black\",\r\n              float: \"left\",\r\n              display: \"inline-block\",\r\n              paddingLeft: \"10px\",\r\n            }}\r\n            placeholder=\"type here\"\r\n            value={text}\r\n            onChange={(e) => {\r\n              setText(e.target.value);\r\n            }}\r\n          />\r\n          <Button\r\n            style={{\r\n              float: \"right\",\r\n              width: \"10%\",\r\n              height: \"10%\",\r\n              borderRadius: \"0\",\r\n              border: \"0\",\r\n            }}\r\n            onClick={() => {\r\n              sendChat();\r\n            }}\r\n          >\r\n            send\r\n          </Button>\r\n        </div>\r\n      ) : (\r\n        <>{history.push(\"/สนทนา\")}</>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(userMapStatetoProps, userMapDispatchtoProps)(Chatroom);\r\n","D:\\ownerProject\\web\\src\\components\\Chat.js",[],"D:\\ownerProject\\web\\src\\ChatLobby.js",["124","125","126"],"D:\\ownerProject\\web\\src\\api\\api.js",[],"D:\\ownerProject\\web\\src\\Editprofile.js",["127","128","129","130"],"import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./App.css\";\r\nimport { InputGroup, FormControl, Button } from \"react-bootstrap\";\r\nimport {\r\n  userMapStatetoProps,\r\n  userMapDispatchtoProps,\r\n} from \"./states/userState\";\r\nimport { connect } from \"react-redux\";\r\nimport { server_api } from \"./api/api\";\r\nfunction Editprofile(props) {\r\n  var formData = new FormData();\r\n  const [edit, setEdit] = useState(false);\r\n  const [firstname, setFirstname] = useState(\"\");\r\n  const [lastname, setLastname] = useState(\"\");\r\n  const [imgURL, setImgURL] = useState(\"\");\r\n  const [file, setFile] = useState();\r\n  return (\r\n    <div\r\n      className=\"head\"\r\n      style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 0,\r\n        top: 50,\r\n        height: \"91.5%\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          width: \"700px\",\r\n          minHeight: \"350px\",\r\n          background: \"white\",\r\n          margin: \"10px auto 0px\",\r\n        }}\r\n      >\r\n        {edit ? (\r\n          <>\r\n            <InputGroup\r\n              className=\"mb-1 pt-3\"\r\n              style={{ justifyContent: \"center\" }}\r\n            >\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                  ชื่อบัญชีผู้ใช้งาน : {props.user.username}\r\n                </InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n            </InputGroup>\r\n            <InputGroup className=\"mb-1\" style={{ justifyContent: \"center\" }}>\r\n              <div style={{ width: \"45%\" }}>\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                    ชื่อจริง :\r\n                  </InputGroup.Text>\r\n                  <FormControl\r\n                    aria-label=\"Default\"\r\n                    aria-describedby=\"inputGroup-sizing-default\"\r\n                    placeholder={props.user.firstname}\r\n                    value={firstname}\r\n                    onChange={(e) => {\r\n                      setFirstname(e.target.value);\r\n                    }}\r\n                  />\r\n                </InputGroup.Prepend>\r\n              </div>\r\n            </InputGroup>\r\n            <InputGroup className=\"mb-1\" style={{ justifyContent: \"center\" }}>\r\n              <div style={{ width: \"45%\" }}>\r\n                <InputGroup.Prepend>\r\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                    นามสกุล :\r\n                  </InputGroup.Text>\r\n                  <FormControl\r\n                    aria-label=\"Default\"\r\n                    aria-describedby=\"inputGroup-sizing-default\"\r\n                    placeholder={props.user.lastname}\r\n                    value={lastname}\r\n                    onChange={(e) => {\r\n                      setLastname(e.target.value);\r\n                    }}\r\n                  />\r\n                </InputGroup.Prepend>\r\n              </div>\r\n            </InputGroup>\r\n            <input\r\n              type=\"file\"\r\n              onChange={(e) => {\r\n                //console.log(e.target.files[0]);\r\n                setFile(e.target.files[0]);\r\n                setImgURL(e.target.files[0].name);\r\n              }}\r\n            />\r\n            <br />\r\n            {props.user.avatar === \"\" ? (\r\n              <>\r\n                <label>รูปโปรไฟล์</label>\r\n                <br />\r\n                <label>ยังไม่มีการบันทึก</label>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <label>รูปโปรไฟล์</label>\r\n                <br />\r\n                <img\r\n                  style={{\r\n                    width: \"100px\",\r\n                    height: \"100px\",\r\n                    margin: \"auto\",\r\n                  }}\r\n                  src={`${server_api}/${props.user.avatar}`}\r\n                />\r\n              </>\r\n            )}\r\n            <br />\r\n            <Button\r\n              className=\"mb-3 mt-3\"\r\n              onClick={() => {\r\n                setEdit(false);\r\n              }}\r\n            >\r\n              ยกเลิก\r\n            </Button>\r\n            <Button\r\n              className=\"mb-3 ml-2 mt-3\"\r\n              onClick={async () => {\r\n                if (imgURL !== \"\") {\r\n                  formData.append(\"productImage\", file);\r\n                  formData.append(\"newFname\", firstname);\r\n                  formData.append(\"newLname\", lastname);\r\n                  formData.append(\"oldFname\", props.user.firstname);\r\n                  formData.append(\"oldLname\", props.user.lastname);\r\n                  axios({\r\n                    url: `${server_api}/api/post/updateProfile`,\r\n                    method: \"post\",\r\n                    data: formData,\r\n                    headers: {\r\n                      \"Content-Type\": \"application/json\",\r\n                      Authorization: props.user.token,\r\n                    },\r\n                  }).then(async (res) => {\r\n                    if (res.data.success) {\r\n                      localStorage.setItem(\"token\", res.data.data);\r\n                    }\r\n                    alert(\"แก้ไขข้อมูลสำเร็จ\");\r\n                    window.location.reload(true);\r\n                  });\r\n                } else {\r\n                  axios({\r\n                    url: `${server_api}/api/post/updateProfile`,\r\n                    method: \"post\",\r\n                    data: {\r\n                      newFname: firstname,\r\n                      newLname: lastname,\r\n                      oldFname: props.user.firstname,\r\n                      oldLname: props.user.lastname,\r\n                      avatar: props.user.avatar,\r\n                    },\r\n                    headers: {\r\n                      \"Content-Type\": \"application/json\",\r\n                      Authorization: props.user.token,\r\n                    },\r\n                  }).then((res) => {\r\n                    if (res.data.success) {\r\n                      localStorage.setItem(\"token\", res.data.data);\r\n                    }\r\n                    alert(\"แก้ไขข้อมูลสำเร็จ\");\r\n                    window.location.reload(true);\r\n                  });\r\n                }\r\n              }}\r\n            >\r\n              บันทึก\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <InputGroup\r\n              className=\"mb-1 pt-3\"\r\n              style={{ justifyContent: \"center\" }}\r\n            >\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                  ชื่อบัญชีผู้ใช้งาน : {props.user.username}\r\n                </InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n            </InputGroup>\r\n            <InputGroup className=\"mb-1 \" style={{ justifyContent: \"center\" }}>\r\n              <InputGroup.Prepend>\r\n                {props.user.firstname === \"\" ? (\r\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                    ชื่อจริง : ยังไม่มีการบันทึก\r\n                  </InputGroup.Text>\r\n                ) : (\r\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                    ชื่อจริง : {props.user.firstname}\r\n                  </InputGroup.Text>\r\n                )}\r\n              </InputGroup.Prepend>\r\n            </InputGroup>\r\n            <InputGroup className=\"mb-1 \" style={{ justifyContent: \"center\" }}>\r\n              <InputGroup.Prepend>\r\n                {props.user.lastname === \"\" ? (\r\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                    นามสกุล : ยังไม่มีการบันทึก\r\n                  </InputGroup.Text>\r\n                ) : (\r\n                  <InputGroup.Text id=\"inputGroup-sizing-default\">\r\n                    นามสกุล : {props.user.lastname}\r\n                  </InputGroup.Text>\r\n                )}\r\n              </InputGroup.Prepend>\r\n            </InputGroup>\r\n            <br />\r\n            {props.user.avatar === \"\" ? (\r\n              <>\r\n                <label>รูปโปรไฟล์</label>\r\n                <br />\r\n                <label>ยังไม่มีการบันทึก</label>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <label>รูปโปรไฟล์</label>\r\n                <br />\r\n                <img\r\n                  style={{\r\n                    width: \"100px\",\r\n                    height: \"100px\",\r\n                    margin: \"auto\",\r\n                  }}\r\n                  src={`${server_api}/${props.user.avatar}`}\r\n                />\r\n              </>\r\n            )}\r\n            <br />\r\n            <Button\r\n              className=\"mb-3\"\r\n              onClick={() => {\r\n                setEdit(true);\r\n              }}\r\n            >\r\n              แก้ไขข้อมูล\r\n            </Button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  userMapStatetoProps,\r\n  userMapDispatchtoProps\r\n)(Editprofile);\r\n",{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"135","severity":1,"message":"136","line":43,"column":6,"nodeType":"137","endLine":43,"endColumn":8,"suggestions":"138"},{"ruleId":"139","severity":1,"message":"140","line":47,"column":11,"nodeType":"141","messageId":"142","endLine":47,"endColumn":14},{"ruleId":"143","severity":1,"message":"144","line":4,"column":10,"nodeType":"145","messageId":"146","endLine":4,"endColumn":19},{"ruleId":"143","severity":1,"message":"147","line":4,"column":21,"nodeType":"145","messageId":"146","endLine":4,"endColumn":24},{"ruleId":"143","severity":1,"message":"148","line":4,"column":26,"nodeType":"145","messageId":"146","endLine":4,"endColumn":29},{"ruleId":"149","severity":1,"message":"150","line":52,"column":17,"nodeType":"151","endLine":66,"endColumn":19},{"ruleId":"149","severity":1,"message":"150","line":68,"column":17,"nodeType":"151","endLine":83,"endColumn":19},{"ruleId":"149","severity":1,"message":"150","line":105,"column":13,"nodeType":"151","endLine":123,"endColumn":15},{"ruleId":"149","severity":1,"message":"150","line":129,"column":13,"nodeType":"151","endLine":139,"endColumn":15},{"ruleId":"149","severity":1,"message":"150","line":157,"column":15,"nodeType":"151","endLine":165,"endColumn":17},{"ruleId":"149","severity":1,"message":"150","line":192,"column":19,"nodeType":"151","endLine":206,"endColumn":21},{"ruleId":"135","severity":1,"message":"152","line":14,"column":6,"nodeType":"137","endLine":14,"endColumn":8,"suggestions":"153"},{"ruleId":"135","severity":1,"message":"154","line":11,"column":6,"nodeType":"137","endLine":11,"endColumn":8,"suggestions":"155"},{"ruleId":"135","severity":1,"message":"156","line":34,"column":6,"nodeType":"137","endLine":34,"endColumn":8,"suggestions":"157"},{"ruleId":"158","severity":1,"message":"159","line":48,"column":22,"nodeType":"160","messageId":"161","endLine":48,"endColumn":24},{"ruleId":"158","severity":1,"message":"159","line":71,"column":22,"nodeType":"160","messageId":"161","endLine":71,"endColumn":24},{"ruleId":"162","severity":1,"message":"163","line":72,"column":7,"nodeType":"164","messageId":"165","endLine":81,"endColumn":8},{"ruleId":"139","severity":1,"message":"140","line":113,"column":9,"nodeType":"141","messageId":"142","endLine":113,"endColumn":12},{"ruleId":"143","severity":1,"message":"166","line":3,"column":10,"nodeType":"145","messageId":"146","endLine":3,"endColumn":21},{"ruleId":"143","severity":1,"message":"167","line":4,"column":10,"nodeType":"145","messageId":"146","endLine":4,"endColumn":14},{"ruleId":"131","replacedBy":"168"},{"ruleId":"133","replacedBy":"169"},{"ruleId":"143","severity":1,"message":"170","line":13,"column":9,"nodeType":"145","messageId":"146","endLine":13,"endColumn":25},{"ruleId":"139","severity":1,"message":"140","line":68,"column":34,"nodeType":"141","messageId":"142","endLine":68,"endColumn":37},{"ruleId":"139","severity":1,"message":"140","line":16,"column":9,"nodeType":"141","messageId":"142","endLine":16,"endColumn":12},{"ruleId":"135","severity":1,"message":"136","line":56,"column":6,"nodeType":"137","endLine":56,"endColumn":8,"suggestions":"171"},{"ruleId":"139","severity":1,"message":"140","line":92,"column":9,"nodeType":"141","messageId":"142","endLine":92,"endColumn":12},{"ruleId":"135","severity":1,"message":"156","line":23,"column":6,"nodeType":"137","endLine":23,"endColumn":8,"suggestions":"172"},{"ruleId":"139","severity":1,"message":"140","line":32,"column":9,"nodeType":"141","messageId":"142","endLine":32,"endColumn":12},{"ruleId":"149","severity":1,"message":"150","line":93,"column":29,"nodeType":"151","endLine":101,"endColumn":31},{"ruleId":"143","severity":1,"message":"173","line":1,"column":17,"nodeType":"145","messageId":"146","endLine":1,"endColumn":26},{"ruleId":"139","severity":1,"message":"140","line":25,"column":9,"nodeType":"141","messageId":"142","endLine":25,"endColumn":12},{"ruleId":"149","severity":1,"message":"150","line":104,"column":17,"nodeType":"151","endLine":111,"endColumn":19},{"ruleId":"149","severity":1,"message":"150","line":224,"column":17,"nodeType":"151","endLine":231,"endColumn":19},"no-native-reassign",["174"],"no-negated-in-lhs",["175"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["176"],"no-dupe-keys","Duplicate key 'top'.","ObjectExpression","unexpected","no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar","'Row' is defined but never used.","'Col' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'props.user.role'. Either include it or remove the dependency array.",["177"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array.",["178"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["179"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","'SidebarData' is defined but never used.","'Link' is defined but never used.",["174"],["175"],"'responseFacebook' is assigned a value but never used.",["180"],["181"],"'useEffect' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"182","fix":"183"},{"desc":"184","fix":"185"},{"desc":"186","fix":"187"},{"desc":"186","fix":"188"},{"desc":"182","fix":"189"},{"desc":"186","fix":"190"},"Update the dependencies array to be: [history, props]",{"range":"191","text":"192"},"Update the dependencies array to be: [props.user.role]",{"range":"193","text":"194"},"Update the dependencies array to be: [props]",{"range":"195","text":"196"},{"range":"197","text":"196"},{"range":"198","text":"192"},{"range":"199","text":"196"},[1331,1333],"[history, props]",[416,418],"[props.user.role]",[298,300],"[props]",[1071,1073],[1857,1859],[762,764]]