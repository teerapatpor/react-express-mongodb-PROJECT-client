[{"D:\\ownerProject\\web\\src\\index.js":"1","D:\\ownerProject\\web\\src\\App.js":"2","D:\\ownerProject\\web\\src\\components\\Navbar.js":"3","D:\\ownerProject\\web\\src\\components\\Input.js":"4","D:\\ownerProject\\web\\src\\components\\Post.js":"5","D:\\ownerProject\\web\\src\\components\\Sidebar.js":"6","D:\\ownerProject\\web\\src\\form.js":"7","D:\\ownerProject\\web\\src\\home.js":"8","D:\\ownerProject\\web\\src\\components\\SidebarData.js":"9","D:\\ownerProject\\web\\src\\components\\User.js":"10","D:\\ownerProject\\web\\src\\login.js":"11","D:\\ownerProject\\web\\src\\components\\Login.js":"12","D:\\ownerProject\\web\\src\\states\\formState.js":"13","D:\\ownerProject\\web\\src\\states\\userState.js":"14","D:\\ownerProject\\web\\src\\register.js":"15","D:\\ownerProject\\web\\src\\chatLobby.js":"16","D:\\ownerProject\\web\\src\\Chatroom.js":"17","D:\\ownerProject\\web\\src\\components\\Chat.js":"18","D:\\ownerProject\\web\\src\\ChatLobby.js":"19","D:\\ownerProject\\web\\src\\api\\api.js":"20"},{"size":2504,"mtime":1612879874365,"results":"21","hashOfConfig":"22"},{"size":1201,"mtime":1614438316925,"results":"23","hashOfConfig":"22"},{"size":2402,"mtime":1614542363768,"results":"24","hashOfConfig":"22"},{"size":2596,"mtime":1614439509818,"results":"25","hashOfConfig":"22"},{"size":7178,"mtime":1614439538629,"results":"26","hashOfConfig":"22"},{"size":1816,"mtime":1611920299536,"results":"27","hashOfConfig":"22"},{"size":1069,"mtime":1611742460282,"results":"28","hashOfConfig":"22"},{"size":5132,"mtime":1614437916323,"results":"29","hashOfConfig":"22"},{"size":274,"mtime":1612087241120,"results":"30","hashOfConfig":"22"},{"size":140,"mtime":1610876877435,"results":"31","hashOfConfig":"22"},{"size":564,"mtime":1613466796081,"results":"32","hashOfConfig":"22"},{"size":4215,"mtime":1614542338341,"results":"33","hashOfConfig":"22"},{"size":332,"mtime":1612578676133,"results":"34","hashOfConfig":"22"},{"size":1668,"mtime":1614541261354,"results":"35","hashOfConfig":"22"},{"size":463,"mtime":1614439571931,"results":"36","hashOfConfig":"22"},{"size":1428,"mtime":1612088668961,"results":"37","hashOfConfig":"22"},{"size":5544,"mtime":1614694939788,"results":"38","hashOfConfig":"22"},{"size":1001,"mtime":1614439505112,"results":"39","hashOfConfig":"22"},{"size":2925,"mtime":1614540686444,"results":"40","hashOfConfig":"22"},{"size":82,"mtime":1614437884644,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"wng77z",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"44"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"44"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"44"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"44"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"84","messages":"85","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"44"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"D:\\ownerProject\\web\\src\\index.js",[],["93","94"],"D:\\ownerProject\\web\\src\\App.js",[],"D:\\ownerProject\\web\\src\\components\\Navbar.js",["95"],"import React, { useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport {\r\n  userMapStatetoProps,\r\n  userMapDispatchtoProps,\r\n} from \"../states/userState\";\r\nimport { connect } from \"react-redux\";\r\nimport { server_api } from \"../api/api\";\r\nfunction Navbar(props) {\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    // props.updateChatList();\r\n    if (localStorage.getItem(\"token\") !== null) {\r\n      const token = localStorage.getItem(\"token\");\r\n      axios({\r\n        url: `${server_api}/api/user/token`,\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: token,\r\n        },\r\n      }).then(async (res) => {\r\n        if (res.data.success === true) {\r\n          await props.userLogin(\r\n            true,\r\n            res.data.data._id,\r\n            res.data.data.username,\r\n            res.data.data.role,\r\n            res.data.data.chatRecieverID,\r\n            token\r\n          );\r\n          await props.updateChatList();\r\n        } else {\r\n          history.push(\"/ลงชื่อเข้าใช้\");\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n  return (\r\n    <header className=\"Navbar\">\r\n      <label\r\n        style={{ fontSize: \"25px\", fontWeight: \"bold\", cursor: \"pointer\" }}\r\n        onClick={() => {\r\n          history.push(\"/\");\r\n          window.location.reload(true);\r\n        }}\r\n      >\r\n        ownerProject\r\n      </label>\r\n      <label style={{ float: \"right\" }}>{props.user.username}</label>\r\n      {!props.user.login ? (\r\n        <Link to={\"/ลงชื่อเข้าใช้\"}>\r\n          <Button variant=\"outline-info\" className=\"login\">\r\n            ลงชื่อเข้าใช้\r\n          </Button>\r\n        </Link>\r\n      ) : (\r\n        <Button\r\n          variant=\"outline-info\"\r\n          className=\"login\"\r\n          onClick={() => {\r\n            localStorage.removeItem(\"token\");\r\n            localStorage.removeItem(\"userID\");\r\n            props.userLogout(props.user.socketID);\r\n            alert(\"ออกจากระบบแล้ว\");\r\n            history.push(\"/\");\r\n          }}\r\n        >\r\n          ออกจากระบบ\r\n        </Button>\r\n      )}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default connect(userMapStatetoProps, userMapDispatchtoProps)(Navbar);\r\n","D:\\ownerProject\\web\\src\\components\\Input.js",["96"],"import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { server_api } from \"../api/api\";\r\n// axios.create({\r\n//   baseURL: \"http://localhost:8888/api/image\",\r\n//   headers: {\r\n//     \"Content-type\": \"application/json\",\r\n//   },\r\n// });\r\n\r\nfunction Input({ addForm }) {\r\n  var formData = new FormData();\r\n  const [nameForm, setNameForm] = useState(\"\");\r\n  const [detail, setDetail] = useState(\"\");\r\n  const [imgURL, setImgURL] = useState(\"\");\r\n  const [file, setFile] = useState();\r\n\r\n  function onClick() {\r\n    if (nameForm !== \"\" && imgURL !== \"\") {\r\n      formData.append(\"productImage\", file);\r\n      formData.append(\"name\", nameForm);\r\n      formData.append(\"detail\", detail);\r\n\r\n      axios({\r\n        url: `${server_api}/api/post/create`,\r\n        method: \"post\",\r\n        data: formData,\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      }).then((result) => {\r\n        addForm(result.data.data);\r\n        alert(\"บันทึกสำเร็จ\");\r\n        window.location.reload(true);\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"head\"\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 0,\r\n          right: 0,\r\n          top: 50,\r\n          height: \"91.5%\",\r\n        }}\r\n      >\r\n        <div className=\"Input__header\">create form</div>\r\n        <div className=\"Input\">\r\n          <span>ชื่อ</span>\r\n          <input\r\n            className=\"Input__field\"\r\n            type=\"text\"\r\n            placeholder=\"ใส่ชื่อของ ฟอร์มนี้\"\r\n            onChange={(e) => {\r\n              setNameForm(e.target.value);\r\n            }}\r\n          />\r\n          <br></br>\r\n          <span>รายละเอียด</span>\r\n          <input\r\n            className=\"Input__field\"\r\n            type=\"text\"\r\n            placeholder=\"ใส่รายละเอียดเพิ่มเติม\"\r\n            onChange={(e) => {\r\n              setDetail(e.target.value);\r\n            }}\r\n          />\r\n          <br></br>\r\n          <span>ไฟล์รูป </span>\r\n          <input\r\n            type=\"file\"\r\n            onChange={(e) => {\r\n              //console.log(e.target.files[0]);\r\n              setFile(e.target.files[0]);\r\n              setImgURL(e.target.files[0].name);\r\n            }}\r\n          />\r\n          <br></br>\r\n          <Button onClick={onClick}>บันทึกข้อมูล</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Input;\r\n","D:\\ownerProject\\web\\src\\components\\Post.js",["97","98","99","100","101","102"],"import React from \"react\";\r\nimport SkyLight from \"react-skylight\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport normal from \"../icon/normal.png\";\r\nimport like from \"../icon/like.png\";\r\nimport bin1 from \"../icon/bin1.png\";\r\nimport bin2 from \"../icon/bin2.png\";\r\nimport { server_api } from \"../api/api\";\r\nclass Post extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      binOutsrc: bin1,\r\n      binInsrc: bin1,\r\n    };\r\n\r\n    this.binInMouseOver = this.binInMouseOver.bind(this);\r\n    this.binInMouseOut = this.binInMouseOut.bind(this);\r\n    this.binOutMouseOver = this.binOutMouseOver.bind(this);\r\n    this.binOutMouseOut = this.binOutMouseOut.bind(this);\r\n  }\r\n\r\n  binInMouseOver() {\r\n    this.setState({\r\n      binInsrc: bin2,\r\n    });\r\n  }\r\n  binOutMouseOver() {\r\n    this.setState({\r\n      binOutsrc: bin2,\r\n    });\r\n  }\r\n  binInMouseOut() {\r\n    this.setState({\r\n      binInsrc: bin1,\r\n    });\r\n  }\r\n  binOutMouseOut() {\r\n    this.setState({\r\n      binOutsrc: bin1,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div\r\n          className=\"Post\"\r\n          style={{\r\n            width: 510,\r\n            height: 500,\r\n            marginLeft: \"12px\",\r\n            marginRight: \"12px\",\r\n          }}\r\n        >\r\n          {this.props.user.login ? (\r\n            <div>\r\n              {!this.props.userList.includes(this.props.user._id) ? (\r\n                <img\r\n                  className=\"Post__delete\"\r\n                  style={{\r\n                    width: \"50px\",\r\n                    height: \"50px\",\r\n                    float: \"left\",\r\n                    bottom: 0,\r\n                    position: \"absolute\",\r\n                  }}\r\n                  onClick={() => {\r\n                    this.props.likePost(this.props.id);\r\n                  }}\r\n                  onMouseOver={(e) => {}}\r\n                  src={normal}\r\n                />\r\n              ) : (\r\n                <img\r\n                  className=\"Post__delete\"\r\n                  style={{\r\n                    width: \"50px\",\r\n                    height: \"50px\",\r\n\r\n                    float: \"left\",\r\n                    bottom: 0,\r\n                    position: \"absolute\",\r\n                  }}\r\n                  onClick={() => {\r\n                    this.props.unlikePost(this.props.id);\r\n                  }}\r\n                  onMouseOver={(e) => {}}\r\n                  src={like}\r\n                />\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          <div\r\n            style={{\r\n              position: \"absolute\",\r\n              zIndex: \"2\",\r\n              bottom: 0,\r\n              marginLeft: \"50px\",\r\n              marginBottom: \"20px\",\r\n              fontSize: \"20px\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {this.props.score}\r\n          </div>\r\n\r\n          {this.props.user.role === \"admin\" ? (\r\n            <img\r\n              className=\"Post__delete\"\r\n              onClick={() => {\r\n                if (window.confirm(\"Confirm to delete this post click OK\")) {\r\n                  this.props.deletePost(this.props.id, this.props.imgURL);\r\n                }\r\n              }}\r\n              style={{\r\n                fontSize: \"10px\",\r\n                bottom: 0,\r\n                right: 0,\r\n                position: \"absolute\",\r\n                width: \"40px\",\r\n                height: \"45px\",\r\n              }}\r\n              onMouseOver={this.binOutMouseOver}\r\n              onMouseOut={this.binOutMouseOut}\r\n              src={this.state.binOutsrc}\r\n            />\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div className=\"Post__title\">\r\n            {this.props.title}\r\n            <img\r\n              className=\"Post__image\"\r\n              src={`${server_api}/${this.props.imgURL}`}\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => {\r\n                this.simpleDialog.show();\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <SkyLight\r\n          dialogStyles={{\r\n            width: \"80%\",\r\n            height: \"90%\",\r\n            marginTop: \"-335px\",\r\n            marginLeft: \"-40%\",\r\n            backgroundColor: \"#343a40\",\r\n            color: \"#32A5B3\",\r\n            fontSize: \"20px\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n          hideOnOverlayClicked\r\n          ref={(ref) => (this.simpleDialog = ref)}\r\n          title={\r\n            <div>\r\n              <Container style={{ alignItems: \"flex-end\" }}>\r\n                <Row top=\"xs\">\r\n                  <Col>\r\n                    <img\r\n                      style={{\r\n                        height: \"100%\",\r\n                        width: \"100%\",\r\n                        maxWidth: \"400px\",\r\n                        maxHeight: \"400px\",\r\n                      }}\r\n                      src={`${server_api}/${this.props.imgURL}`}\r\n                    />\r\n                  </Col>\r\n                  <Col style={{ textAlign: \"left\" }}>\r\n                    <label>ชื่อโพส: {this.props.name}</label>\r\n                    <br />\r\n                    <label>รายละเอียดเพิ่มเติม: {this.props.detail}</label>\r\n                    <br />\r\n                    <label>จำนวนคนสนใจ: {this.props.score} คน</label>\r\n                    <br />\r\n                    {this.props.user.role === \"\" ? (\r\n                      <label\r\n                        style={{\r\n                          fontSize: \"15px\",\r\n                          color: \"white\",\r\n                        }}\r\n                      >\r\n                        กรุณาลงชื่อเข้าใช้เพื่อสามารถแสดงความสนใจต่อโพส\r\n                      </label>\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                    {this.props.user.role === \"admin\" ? (\r\n                      <img\r\n                        onClick={() =>\r\n                          this.props.deletePost(\r\n                            this.props.id,\r\n                            this.props.imgURL\r\n                          )\r\n                        }\r\n                        style={{\r\n                          fontSize: \"10px\",\r\n                          left: 0,\r\n                          width: \"40px\",\r\n                          height: \"45px\",\r\n                          cursor: \"pointer\",\r\n                        }}\r\n                        onMouseOver={this.binInMouseOver}\r\n                        onMouseOut={this.binInMouseOut}\r\n                        src={this.state.binInsrc}\r\n                      />\r\n                    ) : (\r\n                      <></>\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n              </Container>\r\n            </div>\r\n          }\r\n        ></SkyLight>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    form: state.form,\r\n  };\r\n};\r\n\r\nexport default connect(mapStatetoProps)(Post);\r\n","D:\\ownerProject\\web\\src\\components\\Sidebar.js",["103"],"import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport { SidebarData } from \"./SidebarData\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport {\r\n  userMapStatetoProps,\r\n  userMapDispatchtoProps,\r\n} from \"../states/userState\";\r\nimport { connect } from \"react-redux\";\r\nfunction Sidebar(props) {\r\n  useEffect(() => {\r\n    console.log(props.user.role);\r\n  }, []);\r\n  return (\r\n    <div className=\"Sidebar\">\r\n      {props.user.role !== \"admin\" ? (\r\n        <div>\r\n          {SidebarData.filter((item) => item.title !== \"เพิ่มฟอร์ม\").map(\r\n            (item, index) => {\r\n              return (\r\n                <Link to={item.path} key={index}>\r\n                  <Button\r\n                    variant=\"outline-info\"\r\n                    style={{\r\n                      borderRadius: \"0px\",\r\n                      width: \"100%\",\r\n                      borderColor: \"white\",\r\n                    }}\r\n                  >\r\n                    <span>{item.title}</span>\r\n                  </Button>\r\n                </Link>\r\n              );\r\n            }\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          {SidebarData.map((item, index) => {\r\n            return (\r\n              <Link to={item.path} key={index}>\r\n                <Button\r\n                  variant=\"outline-info\"\r\n                  style={{\r\n                    borderRadius: \"0px\",\r\n                    width: \"100%\",\r\n                    borderColor: \"white\",\r\n                  }}\r\n                >\r\n                  <span>{item.title}</span>\r\n                </Button>\r\n              </Link>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(userMapStatetoProps, userMapDispatchtoProps)(Sidebar);\r\n","D:\\ownerProject\\web\\src\\form.js",["104"],"import \"./App.css\";\r\nimport Input from \"./components/Input\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nfunction Form(props) {\r\n  function addForm(newData) {\r\n    props.changeForm([newData, ...props.form]);\r\n  }\r\n  useEffect(() => {\r\n    console.log(props);\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {props.user.role !== \"admin\" ? (\r\n        <></>\r\n      ) : (\r\n        <div>\r\n          <Input addForm={addForm} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nconst mapStatetoprops = (state) => {\r\n  return {\r\n    form: state.form,\r\n    user: state.user,\r\n  };\r\n};\r\n\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    changeForm: (form) => {\r\n      dispatch({\r\n        type: \"changeForm\",\r\n        item: form,\r\n      });\r\n    },\r\n    userLogin: (login, _id, username, role) => {\r\n      dispatch({\r\n        type: \"login\",\r\n        payload: {\r\n          login,\r\n          _id,\r\n          username,\r\n          role,\r\n        },\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStatetoprops, mapDispatchtoProps)(Form);\r\n","D:\\ownerProject\\web\\src\\home.js",["105","106","107","108","109"],"import \"./App.css\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Post from \"./components/Post\";\r\nimport axios from \"axios\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { Ring } from \"react-awesome-spinners\";\r\nimport { server_api } from \"./api/api\";\r\n// import FacebookLogin from \"react-facebook-login\";\r\nfunction Home(props) {\r\n  const [posts, setPosts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  // function addPost(title, imgURL) {\r\n  //   const newPost = { id, title, imgURL };\r\n  //   setPosts([newPost, ...posts]);\r\n  //   id += 1;\r\n  // }\r\n  useEffect(() => {\r\n    if (props.form.length === 0) {\r\n      axios({\r\n        url: `${server_api}/api/post/get`,\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"applicatoin/json\",\r\n        },\r\n      }).then((result) => {\r\n        setPosts(result.data.data);\r\n        props.changeForm(result.data.data);\r\n        setLoading(false);\r\n      });\r\n    } else {\r\n      setPosts(props.form);\r\n    }\r\n  }, []);\r\n  function likePost(ID) {\r\n    axios({\r\n      url: `${server_api}/api/post/like`,\r\n      method: \"post\",\r\n      data: {\r\n        postID: ID,\r\n      },\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      },\r\n    });\r\n    var update = [];\r\n    posts.map((post) => {\r\n      if (post._id === ID) {\r\n        post.score += 1;\r\n        post.userList.push(props.user._id);\r\n      }\r\n      update.push(post);\r\n    });\r\n    setPosts(update);\r\n    props.changeForm(update);\r\n  }\r\n  function unlikePost(ID) {\r\n    axios({\r\n      url: `${server_api}/api/post/unlike`,\r\n      method: \"post\",\r\n      data: {\r\n        postID: ID,\r\n      },\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: localStorage.getItem(\"token\"),\r\n      },\r\n    });\r\n    var update = [];\r\n    posts.map((post) => {\r\n      {\r\n        if (post._id === ID) {\r\n          post.score -= 1;\r\n          const listUpdate = post.userList.filter(\r\n            (list) => list !== props.user._id\r\n          );\r\n          post.userList = listUpdate;\r\n        }\r\n        update.push(post);\r\n      }\r\n    });\r\n    setPosts(update);\r\n    props.changeForm(update);\r\n  }\r\n  function deletePost(id, imgURL) {\r\n    axios({\r\n      url: `${server_api}/api/post/delete`,\r\n      method: \"post\",\r\n      data: {\r\n        _id: id,\r\n        path: imgURL,\r\n      },\r\n    }).then((result) => {\r\n      alert(\"ลบฟอร์มสำเร็จ\");\r\n    });\r\n    const updatePost = posts.filter((post) => post._id !== id);\r\n    setPosts(updatePost);\r\n    props.changeForm(updatePost);\r\n  }\r\n  // const componentClicked = (data) => {\r\n  //   console.log(\"data: \", data);\r\n  // };\r\n  // const responseFacebook = (response) => {\r\n  //   console.log(response);\r\n  // };\r\n  return (\r\n    <div\r\n      className=\"head\"\r\n      style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 0,\r\n        top: 50,\r\n      }}\r\n    >\r\n      <div className=\"Input__header\">post</div>\r\n      <div className=\"Form\">\r\n        {posts.length === 0 ? (\r\n          loading && (\r\n            <Ring style={{ size: 64, color: \"#00bfff\", sizeUnit: \"px\" }} />\r\n          )\r\n        ) : (\r\n          <div>\r\n            {/* <FacebookLogin\r\n              appId=\"461858064845560\"\r\n              autoLoad={false}\r\n              fields=\"name,email,picture\"\r\n              onClick={componentClicked}\r\n              callback={responseFacebook}\r\n            /> */}\r\n            <Container>\r\n              <Row>\r\n                {posts.map((post) => (\r\n                  <Col key={post._id}>\r\n                    <Post\r\n                      key={post._id}\r\n                      id={post._id}\r\n                      name={post.name}\r\n                      imgURL={post.image}\r\n                      detail={post.detail}\r\n                      score={post.score}\r\n                      userList={post.userList}\r\n                      deletePost={deletePost}\r\n                      likePost={likePost}\r\n                      unlikePost={unlikePost}\r\n                    />\r\n                  </Col>\r\n                ))}\r\n              </Row>\r\n            </Container>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    form: state.form,\r\n  };\r\n};\r\nconst mapDispatchtoProps = (dispatch) => {\r\n  return {\r\n    changeForm: (form) => {\r\n      dispatch({\r\n        type: \"changeForm\",\r\n        item: form,\r\n      });\r\n    },\r\n    likeForm: (ID, userID) => {\r\n      dispatch({\r\n        type: \"like\",\r\n        payload: {\r\n          id: ID,\r\n          userID: userID,\r\n        },\r\n      });\r\n    },\r\n    userLogin: (login, _id, username, role, chatRecieverID, token) => {\r\n      dispatch({\r\n        type: \"login\",\r\n        payload: {\r\n          login,\r\n          _id,\r\n          username,\r\n          role,\r\n          chatRecieverID,\r\n          token,\r\n        },\r\n      });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(Home);\r\n","D:\\ownerProject\\web\\src\\components\\SidebarData.js",[],"D:\\ownerProject\\web\\src\\components\\User.js",["110","111"],"import React from \"react\";\r\nimport \"../App.css\";\r\nimport { SidebarData } from \"./SidebarData\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction User(props) {\r\n  return <h1>{props.username}</h1>;\r\n}\r\n\r\nexport default User;\r\n",["112","113"],"D:\\ownerProject\\web\\src\\login.js",[],"D:\\ownerProject\\web\\src\\components\\Login.js",["114","115"],"import React, { useState } from \"react\";\r\nimport \"../App.css\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Button } from \"react-bootstrap\";\r\n// import FacebookLogin from \"react-facebook-login\";\r\nimport { server_api } from \"../api/api\";\r\nfunction Login({ sWord, userLogin }) {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n  const responseFacebook = (response) => {\r\n    console.log(response);\r\n  };\r\n  function login() {\r\n    axios({\r\n      url: `${server_api}/api/user/login`,\r\n      method: \"post\",\r\n      data: { username: username, password: password },\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    }).then((res) => {\r\n      if (res.data.success === true) {\r\n        userLogin(\r\n          res.data.data.resultLogin._id,\r\n          res.data.data.resultLogin.username,\r\n          res.data.data.resultLogin.role,\r\n          res.data.data.resultLogin.chatRecieverID,\r\n          res.data.data.token\r\n        );\r\n\r\n        localStorage.setItem(\"token\", res.data.data.token);\r\n        localStorage.setItem(\"userID\", res.data.data.resultLogin._id);\r\n        alert(\"เข้าสู่ระบบสำเร็จ\");\r\n        history.push(\"/\");\r\n      } else {\r\n        alert(\"ชื่อ หรือ รหัส ไม่ถูกต้อง\");\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <header\r\n      className=\"login_form\"\r\n      style={{ position: \"absolute\", top: 0, right: 0, top: 50 }}\r\n      onKeyDown={(e) => {\r\n        if (e.code === \"Enter\") {\r\n          login();\r\n        }\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          width: \"700px\",\r\n          height: \"300px\",\r\n          background: \"white\",\r\n          margin: \"10px auto\",\r\n        }}\r\n      >\r\n        <label className=\"login_label\">\r\n          ชื่อผู้เข้าใช้งาน\r\n          <input\r\n            type=\"text\"\r\n            className=\"login_text\"\r\n            placeholder=\"ตัวอย่าง example1234\"\r\n            onChange={(e) => setUsername(e.target.value)}\r\n          />\r\n        </label>\r\n        <label className=\"login_label\">\r\n          รหัสผ่าน\r\n          <input\r\n            type=\"text\"\r\n            className=\"login_text\"\r\n            placeholder=\"ตัวอย่าง 123456789\"\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n        </label>\r\n        {sWord === \"login\" ? (\r\n          <div>\r\n            <Button variant=\"secondary\" style={{ right: 0 }} onClick={login}>\r\n              เข้าสู่ระบบ\r\n            </Button>\r\n            <br />\r\n            <label className=\"login_label\">\r\n              หากยังไม่มีข้อมูล\r\n              <Link to=\"/สมัครสมาชิก\">สมัครสมาชิก</Link>\r\n            </label>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <Button\r\n              style={{ right: 0 }}\r\n              variant=\"secondary\"\r\n              onClick={() => {\r\n                axios({\r\n                  url: `${server_api}/api/user/register`,\r\n                  method: \"post\",\r\n                  data: { username: username, password: password },\r\n                  headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                  },\r\n                }).then((res) => {\r\n                  if (res.data.data === true) {\r\n                    alert(\"สมัครสมาชิกสำเร็จ\");\r\n                    history.push(\"./ลงชื่อเข้าใช้\");\r\n                  } else {\r\n                    alert(\r\n                      \"ไม่สามารถสมัครสมาชิกได้ เนื่องจาก ชื่อผู้เข้าใช้งาน หรือ รหัสไม่ถูกต้อง\"\r\n                    );\r\n                  }\r\n                });\r\n              }}\r\n            >\r\n              สมัครสมาชิก\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","D:\\ownerProject\\web\\src\\states\\formState.js",[],"D:\\ownerProject\\web\\src\\states\\userState.js",[],"D:\\ownerProject\\web\\src\\register.js",[],"D:\\ownerProject\\web\\src\\chatLobby.js",["116"],"D:\\ownerProject\\web\\src\\Chatroom.js",["117","118"],"D:\\ownerProject\\web\\src\\components\\Chat.js",[],"D:\\ownerProject\\web\\src\\ChatLobby.js",["119","120"],"import React, { useEffect } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Container, Row, Col } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./App.css\";\r\nimport { connect } from \"react-redux\";\r\n//import { socket } from \"./App\";\r\n// import socketIOClient from \"socket.io-client\";\r\n// const ENDPOINT = \"http://localhost:8888/\";\r\nfunction ChatLobby(props) {\r\n  useEffect(() => {\r\n    props.updateChatList();\r\n    localStorage.setItem(\"latest-chat\", \"\");\r\n  }, []);\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <div\r\n      className=\"head\"\r\n      style={{\r\n        position: \"absolute\",\r\n        top: 0,\r\n        right: 1,\r\n        top: 50,\r\n        height: \"91.5%\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          background: \"white\",\r\n          width: \"80%\",\r\n          height: \"80%\",\r\n          margin: \"30px auto\",\r\n        }}\r\n      >\r\n        {props.user.login ? (\r\n          <Container>\r\n            {Object.keys(props.chatList).map((value, index) => {\r\n              return (\r\n                <Row key={index}>\r\n                  <Col style={{ margin: \"10px auto\" }}>\r\n                    <Button\r\n                      onClick={() => {\r\n                        history.push({\r\n                          pathname: \"/ห้องสนทนา\",\r\n                          state: {\r\n                            id: props.chatList[value].userID,\r\n                            username: props.chatList[value].name,\r\n                            user: props.user,\r\n                            socketID: props.chatList[value].socketID,\r\n                          },\r\n                        });\r\n                      }}\r\n                    >\r\n                      {props.chatList[value].name}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              );\r\n            })}\r\n          </Container>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nconst mapStatetoProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    form: state.form,\r\n    chatList: state.chatList,\r\n  };\r\n};\r\nconst mapDispatchtoProps = (dispatch, props) => {\r\n  return {\r\n    changeForm: (form) => {\r\n      dispatch({\r\n        type: \"changeForm\",\r\n        item: form,\r\n      });\r\n    },\r\n    userLogin: (login, _id, username, role, chatRecieverID, token) => {\r\n      dispatch({\r\n        type: \"login\",\r\n        payload: {\r\n          login,\r\n          _id,\r\n          username,\r\n          role,\r\n          chatRecieverID,\r\n          token,\r\n        },\r\n      });\r\n    },\r\n    updateChatList: () => {\r\n      // props.socket.emit(\"fetch_chat\", \"chat\");\r\n      // props.socket.on(\"chat_list\", (data) => {\r\n      //   dispatch({\r\n      //     type: \"chatUpdate\",\r\n      //     payload: data,\r\n      //   });\r\n      // });\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStatetoProps, mapDispatchtoProps)(ChatLobby);\r\n","D:\\ownerProject\\web\\src\\api\\api.js",[],{"ruleId":"121","replacedBy":"122"},{"ruleId":"123","replacedBy":"124"},{"ruleId":"125","severity":1,"message":"126","line":40,"column":6,"nodeType":"127","endLine":40,"endColumn":8,"suggestions":"128"},{"ruleId":"129","severity":1,"message":"130","line":47,"column":11,"nodeType":"131","messageId":"132","endLine":47,"endColumn":14},{"ruleId":"133","severity":1,"message":"134","line":60,"column":17,"nodeType":"135","endLine":74,"endColumn":19},{"ruleId":"133","severity":1,"message":"134","line":76,"column":17,"nodeType":"135","endLine":91,"endColumn":19},{"ruleId":"133","severity":1,"message":"134","line":113,"column":13,"nodeType":"135","endLine":131,"endColumn":15},{"ruleId":"133","severity":1,"message":"134","line":137,"column":13,"nodeType":"135","endLine":144,"endColumn":15},{"ruleId":"133","severity":1,"message":"134","line":165,"column":21,"nodeType":"135","endLine":173,"endColumn":23},{"ruleId":"133","severity":1,"message":"134","line":195,"column":23,"nodeType":"135","endLine":212,"endColumn":25},{"ruleId":"125","severity":1,"message":"136","line":14,"column":6,"nodeType":"127","endLine":14,"endColumn":8,"suggestions":"137"},{"ruleId":"125","severity":1,"message":"138","line":11,"column":6,"nodeType":"127","endLine":11,"endColumn":8,"suggestions":"139"},{"ruleId":"125","severity":1,"message":"140","line":34,"column":6,"nodeType":"127","endLine":34,"endColumn":8,"suggestions":"141"},{"ruleId":"142","severity":1,"message":"143","line":48,"column":22,"nodeType":"144","messageId":"145","endLine":48,"endColumn":24},{"ruleId":"142","severity":1,"message":"143","line":71,"column":22,"nodeType":"144","messageId":"145","endLine":71,"endColumn":24},{"ruleId":"146","severity":1,"message":"147","line":72,"column":7,"nodeType":"148","messageId":"149","endLine":81,"endColumn":8},{"ruleId":"129","severity":1,"message":"130","line":114,"column":9,"nodeType":"131","messageId":"132","endLine":114,"endColumn":12},{"ruleId":"150","severity":1,"message":"151","line":3,"column":10,"nodeType":"152","messageId":"153","endLine":3,"endColumn":21},{"ruleId":"150","severity":1,"message":"154","line":4,"column":10,"nodeType":"152","messageId":"153","endLine":4,"endColumn":14},{"ruleId":"121","replacedBy":"155"},{"ruleId":"123","replacedBy":"156"},{"ruleId":"150","severity":1,"message":"157","line":12,"column":9,"nodeType":"152","messageId":"153","endLine":12,"endColumn":25},{"ruleId":"129","severity":1,"message":"130","line":45,"column":56,"nodeType":"131","messageId":"132","endLine":45,"endColumn":59},{"ruleId":"129","severity":1,"message":"130","line":16,"column":9,"nodeType":"131","messageId":"132","endLine":16,"endColumn":12},{"ruleId":"125","severity":1,"message":"126","line":56,"column":6,"nodeType":"127","endLine":56,"endColumn":8,"suggestions":"158"},{"ruleId":"129","severity":1,"message":"130","line":92,"column":9,"nodeType":"131","messageId":"132","endLine":92,"endColumn":12},{"ruleId":"125","severity":1,"message":"140","line":14,"column":6,"nodeType":"127","endLine":14,"endColumn":8,"suggestions":"159"},{"ruleId":"129","severity":1,"message":"130","line":24,"column":9,"nodeType":"131","messageId":"132","endLine":24,"endColumn":12},"no-native-reassign",["160"],"no-negated-in-lhs",["161"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'history' and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["162"],"no-dupe-keys","Duplicate key 'top'.","ObjectExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'props.user.role'. Either include it or remove the dependency array.",["163"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array.",["164"],"React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.",["165"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-lone-blocks","Nested block is redundant.","BlockStatement","redundantNestedBlock","no-unused-vars","'SidebarData' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.",["160"],["161"],"'responseFacebook' is assigned a value but never used.",["166"],["167"],"no-global-assign","no-unsafe-negation",{"desc":"168","fix":"169"},{"desc":"170","fix":"171"},{"desc":"172","fix":"173"},{"desc":"172","fix":"174"},{"desc":"168","fix":"175"},{"desc":"172","fix":"176"},"Update the dependencies array to be: [history, props]",{"range":"177","text":"178"},"Update the dependencies array to be: [props.user.role]",{"range":"179","text":"180"},"Update the dependencies array to be: [props]",{"range":"181","text":"182"},{"range":"183","text":"182"},{"range":"184","text":"178"},{"range":"185","text":"182"},[1195,1197],"[history, props]",[416,418],"[props.user.role]",[298,300],"[props]",[1071,1073],[1857,1859],[514,516]]